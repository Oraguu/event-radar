<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event Radar â€” Boston</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“¡</text></svg>">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:#0f1419;overflow-y:scroll}
    #root{min-height:100vh}
    ::-webkit-scrollbar{width:6px}
    ::-webkit-scrollbar-track{background:transparent}
    ::-webkit-scrollbar-thumb{background:#333;border-radius:3px}
    @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
    @keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
    @keyframes spin{to{transform:rotate(360deg)}}
  </style>
</head>
<body>
<div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<script type="text/babel">
const {useState,useMemo,useEffect} = React;

const TAG_CFG = {
  robotics:{label:"Robotics",color:"#e63946"},
  ai:{label:"AI / ML",color:"#457b9d"},
  startup:{label:"Startup",color:"#e76f51"},
  networking:{label:"Networking",color:"#2a9d8f"},
  drones:{label:"Drones / UAV",color:"#f4a261"},
  manufacturing:{label:"Manufacturing",color:"#8ecae6"},
  talk:{label:"Talk",color:"#6c567b"},
};

const SRC_CLR = {
  "MIT CSAIL":"#a4133c","MIT":"#a4133c","MIT Sloan":"#a4133c","MIT Media Lab":"#a4133c",
  "Harvard":"#c9102f","Harvard i-lab":"#c9102f","Harvard/MIT":"#8b1a2b",
  "Harvard GSD":"#c9102f","Harvard SEAS":"#c9102f","Harvard HBS":"#c9102f",
  "BU":"#cc0000","BU-based":"#cc0000","Northeastern":"#d41b2c",
  "MassRobotics":"#1d3557","Meetup":"#00897b","Community":"#5a6c3e",
  "Conference":"#6d597a","AUVSI":"#264653","FAA":"#264653",
  "Event":"#bc6c25","Greentown Labs":"#588157","The Engine":"#264653",
  "Makerspace":"#bc6c25","Venture Cafe":"#00897b",
};

const MO=["January","February","March","April","May","June","July","August","September","October","November","December"];
const DY=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];

function pd(s){const[y,m,d]=s.split("-").map(Number);return new Date(y,m-1,d)}
function isToday(s){const t=new Date(),d=pd(s);return d.getFullYear()===t.getFullYear()&&d.getMonth()===t.getMonth()&&d.getDate()===t.getDate()}
function isWeek(s){const t=new Date(),d=pd(s),s0=new Date(t);s0.setDate(t.getDate()-t.getDay());const s1=new Date(s0);s1.setDate(s0.getDate()+6);return d>=s0&&d<=s1}
function isPast(s){const t=new Date();t.setHours(0,0,0,0);return pd(s)<t}

// â”€â”€ Main App â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function App(){
  const [data,setData]=useState(null);
  const [err,setErr]=useState(null);
  const [view,setView]=useState("picks");
  const [tags,setTags]=useState(new Set(Object.keys(TAG_CFG)));
  const [expanded,setExpanded]=useState(null);
  const [showRec,setShowRec]=useState(false);
  const [calMo,setCalMo]=useState(new Date().getMonth());
  const [showPast,setShowPast]=useState(false);

  useEffect(()=>{
    fetch("events.json").then(r=>{if(!r.ok)throw new Error(r.status);return r.json()})
      .then(setData).catch(e=>setErr(e.message));
  },[]);

  const toggle=t=>{const n=new Set(tags);n.has(t)?n.delete(t):n.add(t);setTags(n)};

  const events=useMemo(()=>{
    if(!data)return[];
    let f=data.events.filter(e=>tags.has(e.tag));
    if(!showPast)f=f.filter(e=>e.date==="TBD"||!isPast(e.date));
    return f.sort((a,b)=>a.date.localeCompare(b.date));
  },[data,tags,showPast]);

  const recurring=useMemo(()=>data?data.recurring.filter(e=>tags.has(e.tag)):[],[data,tags]);
  const picks=useMemo(()=>{
    if(!data)return[];
    let f=data.events.filter(e=>e.pick);
    if(!showPast)f=f.filter(e=>e.date==="TBD"||!isPast(e.date));
    return f.sort((a,b)=>a.date.localeCompare(b.date));
  },[data,showPast]);
  const pickRec=useMemo(()=>data?data.recurring.filter(e=>e.pick):[],[data]);

  const grouped=useMemo(()=>{
    const g={};events.forEach(e=>{
      const d=e.date==="TBD"?"9999-99":e.date.slice(0,7);
      (g[d]=g[d]||[]).push(e);
    });return g;
  },[events]);

  const calDays=useMemo(()=>{
    const f=new Date(2026,calMo,1),l=new Date(2026,calMo+1,0),d=[];
    for(let i=0;i<f.getDay();i++)d.push(null);
    for(let i=1;i<=l.getDate();i++)d.push(i);return d;
  },[calMo]);

  const calEvts=useMemo(()=>{
    const m={};events.forEach(e=>{
      if(e.date==="TBD")return;
      const d=pd(e.date);
      if(d.getMonth()===calMo&&d.getFullYear()===2026)(m[d.getDate()]=m[d.getDate()]||[]).push(e);
    });return m;
  },[events,calMo]);

  // â”€â”€ Loading / Error states â”€â”€
  if(err)return React.createElement("div",{style:{fontFamily:"monospace",color:"#e63946",padding:40,textAlign:"center"}},
    React.createElement("p",null,"Failed to load events.json"),
    React.createElement("p",{style:{color:"#666",fontSize:13,marginTop:8}},err),
    React.createElement("p",{style:{color:"#555",fontSize:12,marginTop:16}},"Run the scraper first: python scrape.py")
  );
  if(!data)return React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",flexDirection:"column",gap:16}},
    React.createElement("div",{style:{width:24,height:24,border:"2px solid #2a9d8f",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),
    React.createElement("div",{style:{fontFamily:"monospace",color:"#555",fontSize:13}},"Loading events...")
  );

  const F=React.createElement;
  const s=(o)=>({style:o});

  // â”€â”€ Render helper: Event card â”€â”€
  function EventCard({e,i,isPick}){
    const today=e.date!=="TBD"&&isToday(e.date);
    const week=e.date!=="TBD"&&isWeek(e.date)&&!today;
    const past=e.date!=="TBD"&&isPast(e.date);
    const c=TAG_CFG[e.tag]||{color:"#666",label:"Other"};
    const isExp=expanded===`${e.date}-${i}`;
    const accent=isPick?"#f4a261":"#2a9d8f";

    return F("div",{key:i,onClick:()=>setExpanded(isExp?null:`${e.date}-${i}`),
      style:{padding:"14px 16px",borderRadius:10,border:`1px solid ${today?accent+"44":"#1e222c"}`,
        background:today?accent+"08":past?"#12141a":"#161a24",cursor:"pointer",
        opacity:past?.5:1,animation:"fadeIn .3s ease",animationDelay:`${i*30}ms`,animationFillMode:"both"}},
      F("div",{style:{display:"flex",alignItems:"flex-start",gap:14}},
        e.date!=="TBD"&&F("div",{style:{minWidth:48,textAlign:"center",paddingTop:2}},
          F("div",{style:{fontFamily:"'Space Mono',monospace",fontSize:20,fontWeight:700,color:today?accent:past?"#444":"#888",lineHeight:1}},pd(e.date).getDate()),
          F("div",{style:{fontSize:10,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:today?accent+"88":"#444"}},DY[pd(e.date).getDay()]),
          F("div",{style:{fontSize:9,color:"#444",marginTop:2}},MO[pd(e.date).getMonth()].slice(0,3))
        ),
        F("div",{style:{flex:1,minWidth:0}},
          F("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap",marginBottom:4}},
            F("span",{style:{fontSize:14,fontWeight:600,color:past?"#666":"#e0deda",lineHeight:1.3}},e.title),
            today&&F("span",{style:{fontSize:9,padding:"2px 8px",borderRadius:10,background:accent+"33",color:accent,fontWeight:700,letterSpacing:1,textTransform:"uppercase"}},"TODAY"),
            week&&F("span",{style:{fontSize:9,padding:"2px 8px",borderRadius:10,background:"#e7651133",color:"#e76f51",fontWeight:700,letterSpacing:1,textTransform:"uppercase"}},"THIS WEEK")
          ),
          isPick&&e.pickNote&&F("div",{style:{fontSize:11,color:"#f4a261",lineHeight:1.5,marginBottom:6,fontStyle:"italic"}},"\u2192 "+e.pickNote),
          F("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"}},
            F("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:(c.color)+"18",color:c.color,fontWeight:600}},c.label),
            F("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:(SRC_CLR[e.source]||"#333")+"18",color:SRC_CLR[e.source]||"#777",fontWeight:600}},e.source),
            F("span",{style:{fontSize:11,color:"#555"}},e.time)
          ),
          isExp&&F("div",{style:{marginTop:10,animation:"fadeIn .2s ease"}},
            e.desc&&F("p",{style:{fontSize:12,color:"#888",lineHeight:1.6,marginBottom:10}},e.desc),
            e.location&&F("p",{style:{fontSize:11,color:"#666",marginBottom:8}},"\uD83D\uDCCD "+e.location),
            F("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",onClick:ev=>ev.stopPropagation(),
              style:{fontSize:11,color:"#2a9d8f",fontWeight:600,textDecoration:"none"}},"Open event page \u2192")
          )
        )
      )
    );
  }

  // â”€â”€ Render helper: Recurring card â”€â”€
  function RecCard({e,i}){
    const c=TAG_CFG[e.tag]||{color:"#666"};
    return F("a",{key:i,href:e.link,target:"_blank",rel:"noopener noreferrer",
      style:{textDecoration:"none",padding:"14px 16px",borderRadius:10,border:"1px solid #262b36",
        background:"#161a24",display:"block",animation:"fadeIn .3s ease",animationDelay:`${i*40}ms`,animationFillMode:"both"}},
      F("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:6}},
        F("span",{style:{fontSize:10,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:c.color}},e.freq),
        F("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:(SRC_CLR[e.source]||"#333")+"22",color:SRC_CLR[e.source]||"#777",fontWeight:600}},e.source)
      ),
      F("div",{style:{fontSize:13,fontWeight:600,color:"#e0deda",lineHeight:1.3,marginBottom:4}},e.title),
      e.pick&&e.pickNote&&F("div",{style:{fontSize:11,color:"#f4a261",lineHeight:1.5,marginBottom:4,fontStyle:"italic"}},"\u2192 "+e.pickNote),
      F("div",{style:{fontSize:11,color:"#555",lineHeight:1.4}},e.desc)
    );
  }

  // â”€â”€ Main render â”€â”€
  return F("div",{style:{fontFamily:"'DM Sans','Segoe UI',sans-serif",background:"linear-gradient(145deg,#0f1419,#1a1f2e 50%,#0f1419)",minHeight:"100vh",color:"#e8e6e3"}},
    F("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap"}),

    // Header
    F("div",{style:{padding:"32px 24px 20px",borderBottom:"1px solid #262b36",background:"linear-gradient(180deg,rgba(42,157,143,.08),transparent)"}},
      F("div",{style:{maxWidth:900,margin:"0 auto"}},
        F("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:4}},
          F("div",{style:{width:10,height:10,borderRadius:"50%",background:"#2a9d8f",boxShadow:"0 0 12px #2a9d8f88",animation:"pulse 2s ease-in-out infinite"}}),
          F("span",{style:{fontFamily:"'Space Mono',monospace",fontSize:11,letterSpacing:3,textTransform:"uppercase",color:"#2a9d8f"}},"LIVE \u00B7 BOSTON AREA")
        ),
        F("h1",{style:{fontFamily:"'Space Mono',monospace",fontSize:28,fontWeight:700,letterSpacing:-.5,color:"#f0efed",margin:"8px 0 4px"}},"Event Radar"),
        F("p",{style:{fontSize:13,color:"#7a7d85"}},
          "MIT \u00B7 Harvard \u00B7 Northeastern \u00B7 BU \u00B7 Meetups \u00B7 Startups",
          F("span",{style:{marginLeft:12,fontSize:11,color:"#444"}},"Updated "+new Date(data.scraped_at).toLocaleDateString())
        )
      )
    ),

    F("div",{style:{maxWidth:900,margin:"0 auto",padding:"0 24px"}},

      // Controls
      F("div",{style:{display:"flex",flexWrap:"wrap",gap:8,padding:"20px 0 12px",alignItems:"center",justifyContent:"space-between"}},
        F("div",{style:{display:"flex",flexWrap:"wrap",gap:6}},
          Object.entries(TAG_CFG).map(([k,v])=>F("button",{key:k,onClick:()=>toggle(k),
            style:{padding:"5px 14px",borderRadius:20,border:`1.5px solid ${tags.has(k)?v.color:"#333"}`,
              background:tags.has(k)?v.color+"18":"transparent",color:tags.has(k)?v.color:"#555",
              fontSize:12,fontWeight:600,cursor:"pointer",fontFamily:"'DM Sans',sans-serif"}},v.label))
        ),
        F("div",{style:{display:"flex",gap:6,alignItems:"center"}},
          F("button",{onClick:()=>setShowPast(!showPast),style:{padding:"5px 12px",borderRadius:20,
            border:`1.5px solid ${showPast?"#7a7d85":"#333"}`,background:showPast?"#7a7d8518":"transparent",
            color:showPast?"#aaa":"#555",fontSize:11,fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans',sans-serif"}},
            showPast?"Hide past":"Show past"),
          F("div",{style:{display:"flex",borderRadius:20,overflow:"hidden",border:"1.5px solid #333"}},
            ["picks","list","calendar"].map((v2,i)=>F("button",{key:v2,onClick:()=>setView(v2),
              style:{padding:"5px 14px",border:"none",borderLeft:i?"1px solid #333":"none",
                background:view===v2?(v2==="picks"?"#f4a26122":"#2a9d8f22"):"transparent",
                color:view===v2?(v2==="picks"?"#f4a261":"#2a9d8f"):"#555",
                fontSize:12,fontWeight:600,cursor:"pointer",fontFamily:"'DM Sans',sans-serif"}},
              v2==="picks"?"\u2B50 Picks":v2==="list"?"List":"Calendar"))
          )
        )
      ),

      // Recurring toggle
      F("button",{onClick:()=>setShowRec(!showRec),
        style:{width:"100%",padding:"14px 18px",borderRadius:12,border:"1px solid #262b36",
          background:showRec?"#1e2433":"#161a24",color:"#aaa",fontSize:13,fontWeight:500,cursor:"pointer",
          display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"'DM Sans',sans-serif",marginBottom:16}},
        F("span",{style:{display:"flex",alignItems:"center",gap:8}},"\u21BB Recurring Series ("+recurring.length+")"),
        F("span",{style:{fontSize:18,transform:showRec?"rotate(180deg)":"none",transition:"transform .2s"}},"\u2304")
      ),
      showRec&&F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(260px,1fr))",gap:10,marginBottom:20,animation:"fadeIn .3s ease"}},
        recurring.map((e,i)=>F(RecCard,{e,i,key:i}))
      ),

      // â”€â”€ PICKS VIEW â”€â”€
      view==="picks"&&F("div",null,
        F("div",{style:{padding:"16px 18px",borderRadius:12,border:"1px solid #f4a26133",background:"linear-gradient(135deg,#f4a26108,#e76f5108)",marginBottom:20}},
          F("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6}},
            F("span",{style:{fontSize:18}},"\u2B50"),
            F("span",{style:{fontFamily:"'Space Mono',monospace",fontSize:14,fontWeight:700,color:"#f4a261"}},"Picks for Alex")
          ),
          F("p",{style:{fontSize:12,color:"#888",lineHeight:1.6,margin:0}},
            "Curated for your robotics entrepreneurship goals, Mowze hardware experience, Part 107 cert, IE/Business dual major at NEU, and interest in autonomous systems.")
        ),
        F("div",{style:{fontFamily:"'Space Mono',monospace",fontSize:12,letterSpacing:2,textTransform:"uppercase",color:"#4a4e58",padding:"8px 0",borderBottom:"1px solid #1e222c",marginBottom:12}},"MAKE THESE YOUR REGULARS"),
        F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(280px,1fr))",gap:10,marginBottom:28}},
          pickRec.map((e,i)=>F(RecCard,{e,i,key:i}))
        ),
        F("div",{style:{fontFamily:"'Space Mono',monospace",fontSize:12,letterSpacing:2,textTransform:"uppercase",color:"#4a4e58",padding:"8px 0",borderBottom:"1px solid #1e222c",marginBottom:12}},{"DON'T MISS THESE DATES"}),
        F("div",{style:{display:"flex",flexDirection:"column",gap:6}},
          picks.map((e,i)=>F(EventCard,{e,i,isPick:true,key:i}))
        )
      ),

      // â”€â”€ LIST VIEW â”€â”€
      view==="list"&&F("div",null,
        Object.entries(grouped).map(([mk,evts])=>{
          const[y,m]=mk.split("-").map(Number);
          return F("div",{key:mk,style:{marginBottom:28}},
            F("div",{style:{fontFamily:"'Space Mono',monospace",fontSize:12,letterSpacing:2,textTransform:"uppercase",color:"#4a4e58",padding:"8px 0",borderBottom:"1px solid #1e222c",marginBottom:12}},
              mk==="9999-99"?"Date TBD":MO[m]+" "+y),
            F("div",{style:{display:"flex",flexDirection:"column",gap:6}},
              evts.map((e,i)=>F(EventCard,{e,i:i,isPick:false,key:i}))
            )
          );
        }),
        events.length===0&&F("div",{style:{padding:40,textAlign:"center",color:"#555",fontSize:14}},"No events match your filters.")
      ),

      // â”€â”€ CALENDAR VIEW â”€â”€
      view==="calendar"&&F("div",null,
        F("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 0 16px"}},
          F("button",{onClick:()=>setCalMo(Math.max(0,calMo-1)),style:{background:"none",border:"1px solid #333",borderRadius:8,color:"#888",padding:"6px 14px",cursor:"pointer",fontFamily:"'DM Sans',sans-serif",fontSize:13}},"\u2190 Prev"),
          F("span",{style:{fontFamily:"'Space Mono',monospace",fontSize:16,fontWeight:700,color:"#ccc",letterSpacing:1}},MO[calMo]+" 2026"),
          F("button",{onClick:()=>setCalMo(Math.min(11,calMo+1)),style:{background:"none",border:"1px solid #333",borderRadius:8,color:"#888",padding:"6px 14px",cursor:"pointer",fontFamily:"'DM Sans',sans-serif",fontSize:13}},"Next \u2192")
        ),
        F("div",{style:{display:"grid",gridTemplateColumns:"repeat(7,1fr)",gap:2}},
          DY.map(d=>F("div",{key:d,style:{textAlign:"center",fontSize:10,fontWeight:600,color:"#444",padding:"8px 0",letterSpacing:1,fontFamily:"'Space Mono',monospace"}},d)),
          calDays.map((day,i)=>{
            const evts=day?(calEvts[day]||[]):[];
            return F("div",{key:i,style:{minHeight:80,borderRadius:6,border:"1px solid #1a1e28",background:day?"#13161e":"transparent",padding:day?"6px":0}},
              day&&F(React.Fragment,null,
                F("div",{style:{fontSize:12,fontWeight:evts.length?600:400,color:evts.length?"#ccc":"#333",marginBottom:4,fontFamily:"'Space Mono',monospace"}},day),
                evts.slice(0,3).map((e,j)=>F("a",{key:j,href:e.link,target:"_blank",rel:"noopener noreferrer",title:e.title,
                  style:{display:"block",fontSize:9,lineHeight:1.2,padding:"3px 5px",marginBottom:2,borderRadius:4,
                    background:(TAG_CFG[e.tag]?.color||"#555")+"22",color:TAG_CFG[e.tag]?.color||"#888",
                    fontWeight:600,textDecoration:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e.title)),
                evts.length>3&&F("div",{style:{fontSize:9,color:"#555",padding:"2px 5px"}},"+"+String(evts.length-3)+" more")
              )
            );
          })
        )
      ),

      // Footer â€” source links
      F("div",{style:{marginTop:32,padding:"20px 0 40px",borderTop:"1px solid #1e222c"}},
        F("div",{style:{fontFamily:"'Space Mono',monospace",fontSize:11,letterSpacing:2,textTransform:"uppercase",color:"#3a3e48",marginBottom:12}},"SOURCE CALENDARS"),
        F("div",{style:{display:"flex",flexWrap:"wrap",gap:6}},
          (data.source_links||[]).map((s,i)=>F("a",{key:i,href:s.url,target:"_blank",rel:"noopener noreferrer",
            style:{fontSize:11,padding:"5px 12px",borderRadius:20,border:"1px solid #262b36",background:"#161a24",color:"#666",textDecoration:"none",fontWeight:500}},s.label))
        )
      )
    )
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(App));
</script>
</body>
</html>
